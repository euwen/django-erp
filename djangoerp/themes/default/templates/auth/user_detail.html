{% extends "base_detail.html" %}

{% load i18n %}
{% load markup %}
{% load introspection %}
{% load breadcrumbs %}
{% load avatar %}

{% block meta-title %}
    {% if object.pk == user.pk %}
    {% trans "My profile" %} | 
    {% else %}
    {{ block.super }}
    {% endif %}
{% endblock %}

{% block breadcrumbs %}
    {% if object == request.user %}
    {% add_crumb "My profile" %}
    {% else %}
    {% add_crumb object %}
    {% endif %}
{% endblock %}

{% block page-main-title %}
    {% if object.pk == request.user.pk %}
    {% trans "My profile" %}
    {% else %}
    {{ block.super }}
    {% endif %}
{% endblock %}

{% block main-details %}
    {% with object|get_fields as object_fields %}
    <div class="ui grid">
        <div class="sixteen wide mobile six wide tablet four wide computer column">
            {% avatar object.email size="200" css_class="ui centered limited fluid rounded image" %}
            <h2 class="ui center aligned header">
                {{ object.username }}
            </h2>
        </div>
        <div class="sixteen wide mobile ten wide tablet twelve wide computer column">
            <div class="ui stackable grid">
                {% for fieldname in "date_joined,last_login,is_superuser,is_staff,is_active,email,language,timezone"|split:',' %}
                <div class="eight wide column">
                    {% include "partials/field_details.html" with field=object_fields|get:fieldname %}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endwith %}
{% endblock %}
