{% extends "base_detail.html" %}

{% load i18n %}
{% load markup %}
{% load introspection %}
{% load breadcrumbs %}
{% load avatar %}

{% block meta-title %}
    {% if object.pk == user.pk %}
    {% trans "My profile" %} | 
    {% else %}
    {{ block.super }}
    {% endif %}
{% endblock %}

{% block breadcrumbs %}
    {% if object == request.user %}
    {% add_crumb "My profile" %}
    {% else %}
    {% add_crumb object %}
    {% endif %}
{% endblock %}

{% block page-main-title %}
    {% if object.pk == request.user.pk %}
    {% trans "My profile" %}
    {% else %}
    {{ block.super }}
    {% endif %}
{% endblock %}

{% block page-sub-title %}
    <span class="ui {% if object.is_active %}green{% else %}red{% endif %} empty circular label"></span>
    <strong>{% if object.is_active %}{% trans "Active" %}{% else %}{% trans "Not Active" %}{% endif %}</strong>
{% endblock %}

{% block main-details %}
    {% with object|get_fields as object_fields %}
    <div class="ui relaxed grid">
        <div class="sixteen wide mobile six wide tablet four wide computer column">
            <div class="ui centered limited fluid rounded image">
                {% avatar object.email size="200" css_class="" %}
            </div>
        </div>
        <div class="sixteen wide mobile ten wide tablet twelve wide computer column">
            <div class="ui relaxed grid">
                <div class="two columns row">
                    <div class="column">
                        {% include "partials/field_details.html" with field=object_fields.username %}
                    </div>
                    <div class="column">
                        {% include "partials/field_details.html" with field=object_fields.email %}
                    </div>
                </div>
                <div class="two columns row">
                    <div class="column">
                        {% include "partials/field_details.html" with field=object_fields.is_superuser %}
                    </div>
                    <div class="column">
                        {% include "partials/field_details.html" with field=object_fields.is_staff %}
                    </div>
                </div>
                <div class="two columns row">
                    <div class="column">
                        {% include "partials/field_details.html" with field=object_fields.date_joined %}
                    </div>
                    <div class="column">
                        {% include "partials/field_details.html" with field=object_fields.last_login %}
                    </div>
                </div>
                <div class="two columns row">
                    <div class="column">
                        {% include "partials/field_details.html" with field=object_fields.language %}
                    </div>
                    <div class="column">
                        {% include "partials/field_details.html" with field=object_fields.timezone %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endwith %}
{% endblock %}
